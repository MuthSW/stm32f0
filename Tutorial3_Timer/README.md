http://letanphuc.net/2015/06/stm32f0-timer-tutorial-and-counter-tutorial/
Counter period: TIM3 interrupt
External Input counter: TIM2
